import{c as G,j as e,B as b,S as q,e as z,b as h,f as y,d as u,s as Q,l as Z,k as V,a2 as Y,P as K,Z as A,z as x,A as C,t as L,T as E,C as I,I as S}from"./index-Br5p3c61.js";import{b as n}from"./react-vendor-CHIk2tMd.js";import{Q as W,T as X,a as ee,b as U,c as $}from"./QuickActions-DJLzR9I4.js";import{f as se}from"./index-Bm_8qgMr.js";import{B as te}from"./badge-DlDO3Hl1.js";import{C as T}from"./clock-BXxtL5XS.js";import{b as ae}from"./api-BM4dxxsF.js";import{M as re,a as le}from"./MiniBar-BBmllMqT.js";import{C as D}from"./circle-check-big-BW1H2Pf2.js";import{m as ce}from"./proxy-qrGj2Bpm.js";import"./auth.service-DTA6mi50.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=G("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),ne="http://localhost:3001";class ie{baseURL;constructor(t){this.baseURL=t}getHeaders(){const t={"Content-Type":"application/json"},l=localStorage.getItem("token");return l&&(t.Authorization=`Bearer ${l}`),t}async handleResponse(t){if(t.status===401)throw localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",new Error("Unauthorized");const o=t.headers.get("content-type")?.includes("application/json");if(!t.ok){const i=o?await t.json():{message:t.statusText};throw new Error(i.message||i.error||"Request failed")}if(o){const i=await t.json();return i.data!==void 0?i.data:i}return{}}async get(t){const l=await fetch(`${this.baseURL}${t}`,{method:"GET",headers:this.getHeaders(),credentials:"include"});return this.handleResponse(l)}async post(t,l){const o=await fetch(`${this.baseURL}${t}`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(l),credentials:"include"});return this.handleResponse(o)}async put(t,l){const o=await fetch(`${this.baseURL}${t}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(l),credentials:"include"});return this.handleResponse(o)}async delete(t){const l=await fetch(`${this.baseURL}${t}`,{method:"DELETE",headers:this.getHeaders(),credentials:"include"});return this.handleResponse(l)}}const de=new ie(ne),me={async generate(s){const t=Date.now(),l=await de.post("/api/chat",{message:s.prompt,model:s.model,temperature:s.temperature,max_tokens:s.maxTokens,top_p:s.topP,frequency_penalty:s.frequencyPenalty,presence_penalty:s.presencePenalty}),o=Date.now()-t;return{response:l.response||l.message||"",tokens:l.tokens||0,latency:o,model:s.model||"default"}},async streamGenerate(s,t,l,o){const p=localStorage.getItem("token");try{const c=await fetch("/api/chat/stream",{method:"POST",headers:{"Content-Type":"application/json",Authorization:p?`Bearer ${p}`:""},credentials:"include",body:JSON.stringify({message:s.prompt,model:s.model,temperature:s.temperature,max_tokens:s.maxTokens})});if(!c.ok)throw new Error(`HTTP ${c.status}`);const v=c.body?.getReader(),a=new TextDecoder;let g="";if(!v)throw new Error("No response stream");for(;;){const{done:d,value:j}=await v.read();if(d)break;const f=a.decode(j);g+=f,t(f)}l({response:g,tokens:0,latency:0,model:s.model||"default"})}catch(c){o(c)}}},xe={model:"gpt-4",temperature:.7,maxTokens:1e3,topP:1,frequencyPenalty:0,presencePenalty:0},he=[{value:"gpt-4",label:"GPT-4",description:"قدرتمندترین مدل"},{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo",description:"سریع و کارآمد"},{value:"claude-3",label:"Claude 3",description:"متعادل و دقیق"}];function ue(){const[s,t]=n.useState(""),[l,o]=n.useState(""),[i,p]=n.useState(!1),[c,v]=n.useState(xe),[a,g]=n.useState(!1),[d,j]=n.useState([]),[f,m]=n.useState(null),w=n.useRef(null),M=async()=>{if(!s.trim()){x.error("لطفا یک پیام وارد کنید");return}p(!0),o(""),m(null);try{const r=await me.generate({prompt:s,model:c.model,temperature:c.temperature,maxTokens:c.maxTokens,topP:c.topP,frequencyPenalty:c.frequencyPenalty,presencePenalty:c.presencePenalty});o(r.response),m({tokens:r.tokens,latency:r.latency,timestamp:Date.now()});const N={id:Math.random().toString(36).substr(2,9),prompt:s,response:r.response,settings:{...c},metrics:{tokens:r.tokens,latency:r.latency,timestamp:Date.now()}};j(R=>[N,...R.slice(0,9)]),x.success("پاسخ تولید شد")}catch(r){x.error("خطا در تولید پاسخ. لطفاً دوباره تلاش کنید."),console.error("Playground error:",r)}finally{p(!1)}},_=()=>{p(!1),x("تولید پاسخ متوقف شد",{icon:"⏹️"})},O=()=>{t(""),o(""),m(null),w.current&&w.current.focus()},B=r=>{navigator.clipboard.writeText(r),x.success("متن کپی شد")},H=()=>{if(!s.trim()){x.error("لطفا یک پیام وارد کنید");return}x.success("پیام ذخیره شد")},F=()=>{const r=JSON.stringify(d,null,2),N=new Blob([r],{type:"application/json"}),R=URL.createObjectURL(N),k=document.createElement("a");k.href=R,k.download=`playground-results-${Date.now()}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(R),x.success("نتایج صادر شد")},J=r=>new Date(r).toLocaleTimeString("fa-IR");return e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-[color:var(--c-text)]",children:"پلی‌گراند"}),e.jsx("p",{className:"text-sm text-[color:var(--c-text-muted)] mt-1.5",children:"آزمایش و تست مدل‌های هوش مصنوعی"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:"ghost",size:"sm",icon:e.jsx(q,{className:"w-5 h-5"}),onClick:()=>g(!a),children:"تنظیمات"}),e.jsx(b,{variant:"ghost",size:"sm",icon:e.jsx(z,{className:"w-5 h-5"}),onClick:F,disabled:d.length===0,children:"صادرات"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a&&e.jsxs(h,{variant:"elevated",children:[e.jsx(y,{children:e.jsx("h3",{className:"text-lg font-semibold text-[color:var(--c-text)]",children:"تنظیمات مدل"})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[color:var(--c-text)] mb-2",children:"مدل"}),e.jsx("select",{value:c.model,onChange:r=>v(N=>({...N,model:r.target.value})),className:"w-full px-3 py-2 border border-[color:var(--c-border)] rounded-lg bg-[color:var(--c-surface)] text-[color:var(--c-text)] focus:outline-none focus:ring-2 focus:ring-[color:var(--c-primary)]",children:he.map(r=>e.jsxs("option",{value:r.value,children:[r.label," - ",r.description]},r.value))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[color:var(--c-text)] mb-2",children:["دما: ",c.temperature]}),e.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:c.temperature,onChange:r=>v(N=>({...N,temperature:parseFloat(r.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[color:var(--c-text)] mb-2",children:["حداکثر توکن: ",c.maxTokens]}),e.jsx("input",{type:"range",min:"100",max:"4000",step:"100",value:c.maxTokens,onChange:r=>v(N=>({...N,maxTokens:parseInt(r.target.value)})),className:"w-full"})]})]})]})]}),e.jsxs(h,{variant:"elevated",children:[e.jsx(y,{children:e.jsx("h3",{className:"text-lg font-semibold text-[color:var(--c-text)]",children:"پیام"})}),e.jsxs(u,{children:[e.jsx("textarea",{ref:w,value:s,onChange:r=>t(r.target.value),placeholder:"پیام خود را اینجا بنویسید...",className:"w-full h-32 p-4 border border-[color:var(--c-border)] rounded-lg bg-[color:var(--c-surface)] text-[color:var(--c-text)] placeholder:text-[color:var(--c-text-muted)] focus:outline-none focus:ring-2 focus:ring-[color:var(--c-primary)] resize-none",disabled:i}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-[color:var(--c-text-muted)]",children:[s.length," کاراکتر"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{variant:"ghost",size:"sm",icon:e.jsx(Q,{className:"w-4 h-4"}),onClick:H,disabled:!s.trim(),children:"ذخیره"}),e.jsx(b,{variant:"ghost",size:"sm",icon:e.jsx(Z,{className:"w-4 h-4"}),onClick:O,disabled:i,children:"پاک کردن"})]})]})]})]}),e.jsxs(h,{variant:"elevated",children:[e.jsx(y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-[color:var(--c-text)]",children:"پاسخ"}),l&&e.jsx(b,{variant:"ghost",size:"sm",icon:e.jsx(V,{className:"w-4 h-4"}),onClick:()=>B(l),children:"کپی"})]})}),e.jsx(u,{children:e.jsx("div",{className:"min-h-32 p-4 border border-[color:var(--c-border)] rounded-lg bg-[color:var(--c-surface)]",children:i?e.jsxs("div",{className:"flex items-center gap-3 text-[color:var(--c-text-muted)]",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-[color:var(--c-primary)] border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"در حال تولید پاسخ..."})]}):l?e.jsx("div",{className:"text-[color:var(--c-text)] whitespace-pre-wrap",children:l}):e.jsx("div",{className:"text-[color:var(--c-text-muted)]",children:"پاسخی وجود ندارد"})})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[i?e.jsx(b,{variant:"danger",icon:e.jsx(Y,{className:"w-5 h-5"}),onClick:_,children:"توقف"}):e.jsx(b,{variant:"primary",icon:e.jsx(K,{className:"w-5 h-5"}),onClick:M,disabled:!s.trim(),children:"اجرا"}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-[color:var(--c-text-muted)]",children:f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsxs("span",{children:[f.tokens," توکن"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsxs("span",{children:[f.latency,"ms"]})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[f&&e.jsxs(h,{variant:"elevated",children:[e.jsx(y,{children:e.jsx("h3",{className:"text-lg font-semibold text-[color:var(--c-text)]",children:"آمار فعلی"})}),e.jsxs(u,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[color:var(--c-text-muted)]",children:"توکن‌ها:"}),e.jsx("span",{className:"font-medium text-[color:var(--c-text)]",children:f.tokens})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[color:var(--c-text-muted)]",children:"زمان پاسخ:"}),e.jsxs("span",{className:"font-medium text-[color:var(--c-text)]",children:[f.latency,"ms"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[color:var(--c-text-muted)]",children:"مدل:"}),e.jsx(te,{variant:"secondary",children:c.model})]})]})]}),e.jsxs(h,{variant:"elevated",children:[e.jsx(y,{children:e.jsx("h3",{className:"text-lg font-semibold text-[color:var(--c-text)]",children:"نتایج اخیر"})}),e.jsx(u,{children:d.length===0?e.jsxs("div",{className:"text-center py-8 text-[color:var(--c-text-muted)]",children:[e.jsx(A,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"هیچ نتیجه‌ای وجود ندارد"})]}):e.jsx("div",{className:"space-y-3",children:d.slice(0,5).map(r=>e.jsxs("div",{className:"p-3 border border-[color:var(--c-border)] rounded-lg hover:bg-[color:var(--c-border)]/20 transition-colors cursor-pointer",onClick:()=>{t(r.prompt),o(r.response),m(r.metrics)},children:[e.jsx("div",{className:"text-sm font-medium text-[color:var(--c-text)] mb-1 line-clamp-2",children:r.prompt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-[color:var(--c-text-muted)]",children:[e.jsx("span",{children:J(r.metrics.timestamp)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{children:[r.metrics.tokens," توکن"]}),e.jsxs("span",{children:[r.metrics.latency,"ms"]})]})]})]},r.id))})})]})]})]})]})}const P={totalRequests:0,avgResponseTime:0,successRate:0,errorRate:0,requestsOverTime:[],responseTimeDistribution:[],recentActivity:[]};function pe(){const[s,t]=n.useState(P),[l,o]=n.useState(!1),[i,p]=n.useState(null),[c,v]=n.useState(!1),[a,g]=n.useState(!1),d=n.useCallback(async()=>{o(!0),p(null);try{const m=await ae("/api/monitoring/metrics");!m||m.totalRequests===0?(v(!0),t(P)):(v(!1),t(m))}catch(m){console.error("Failed to fetch metrics:",m);const w=m.message||"خطا در دریافت داده‌ها";p(w),t(P),a||x.error(w)}finally{o(!1)}},[a]);n.useEffect(()=>{if(!a)return;const m=setInterval(d,5e3);return()=>clearInterval(m)},[a,d]),n.useEffect(()=>{d()},[]);const j=n.useCallback(()=>{g(m=>!m),x.success(a?"بروزرسانی خودکار غیرفعال شد":"بروزرسانی خودکار فعال شد")},[a]),f=n.useCallback(()=>{d()},[d]);return{metrics:s,isLoading:l,error:i,isEmpty:c,autoRefresh:a,toggleAutoRefresh:j,refresh:f}}function ve(){const{metrics:s,isLoading:t,autoRefresh:l,toggleAutoRefresh:o,refresh:i}=pe(),p=()=>{try{const a=JSON.stringify(s,null,2),g=new Blob([a],{type:"application/json"}),d=URL.createObjectURL(g),j=document.createElement("a");j.href=d,j.download=`monitoring-export-${Date.now()}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(d),x.success("داده‌ها با موفقیت دانلود شد")}catch(a){x.error("خطا در دانلود داده‌ها"),console.error("Export error:",a)}},c=a=>a<1e3?`${a}ms`:`${(a/1e3).toFixed(2)}s`,v=a=>new Date(a).toLocaleString("fa-IR",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-6 space-y-6 relative",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[color:var(--c-primary)]/5 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-[color:var(--c-success)]/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),e.jsxs("div",{className:"relative flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[color:var(--c-primary)] to-[color:var(--c-success)] rounded-2xl blur-lg opacity-30"}),e.jsx("div",{className:"relative w-14 h-14 rounded-2xl bg-gradient-to-br from-[color:var(--c-primary)] to-[color:var(--c-success)] flex items-center justify-center shadow-xl",children:e.jsx(C,{className:"w-7 h-7 text-white"})})]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-[color:var(--c-text)] flex items-center gap-2",children:["نظارت سیستم",l&&e.jsx(A,{className:"w-5 h-5 text-[color:var(--c-primary)] animate-pulse"})]}),e.jsx("p",{className:"text-sm text-[color:var(--c-muted)] mt-1.5",children:"وضعیت و عملکرد سیستم را مشاهده کنید"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:l?"soft":"ghost",size:"sm",icon:e.jsx(L,{className:`w-5 h-5 ${t?"animate-spin":""}`}),onClick:o,title:l?"غیرفعال کردن بروزرسانی خودکار":"فعال کردن بروزرسانی خودکار",className:"transition-all duration-200",children:e.jsx("span",{className:"hidden sm:inline",children:"بروزرسانی خودکار"})}),e.jsx(b,{variant:"ghost",size:"sm",icon:e.jsx(L,{className:`w-5 h-5 ${t?"animate-spin":""}`}),onClick:i,disabled:t,"aria-label":"بروزرسانی",title:"بروزرسانی",className:"hover:bg-[color:var(--c-primary)]/10 hover:text-[color:var(--c-primary)] transition-all duration-200",children:e.jsx("span",{className:"hidden sm:inline",children:"بروزرسانی"})}),e.jsx(b,{variant:"ghost",size:"sm",icon:e.jsx(z,{className:"w-5 h-5"}),onClick:p,"aria-label":"دانلود داده‌ها",title:"دانلود داده‌ها",className:"hover:bg-[color:var(--c-primary)]/10 hover:text-[color:var(--c-primary)] transition-all duration-200",children:e.jsx("span",{className:"hidden sm:inline",children:"دانلود"})})]})]}),e.jsxs("div",{className:"relative grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(h,{variant:"elevated",className:"group hover:shadow-[var(--shadow-3)] transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[color:var(--c-primary)]/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(u,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-[color:var(--c-muted)]",children:"کل درخواست‌ها"}),e.jsx("p",{className:"text-3xl font-bold text-[color:var(--c-text)] tabular-nums",children:s.totalRequests.toLocaleString("fa-IR")}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-[color:var(--c-success)]",children:[e.jsx(E,{className:"w-3 h-3"}),e.jsx("span",{children:"فعال"})]})]}),e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-[color:var(--c-primary)] to-[color:var(--c-primary)]/60 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(C,{className:"w-7 h-7 text-white","aria-hidden":"true"})})]})})]}),e.jsxs(h,{variant:"elevated",className:"group hover:shadow-[var(--shadow-3)] transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(u,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-[color:var(--c-muted)]",children:"میانگین زمان پاسخ"}),e.jsxs("p",{className:"text-3xl font-bold text-[color:var(--c-text)] tabular-nums",children:[s.avgResponseTime,"ms"]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600 dark:text-blue-400",children:[e.jsx(T,{className:"w-3 h-3"}),e.jsx("span",{children:"سریع"})]})]}),e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(T,{className:"w-7 h-7 text-white","aria-hidden":"true"})})]})})]}),e.jsxs(h,{variant:"elevated",className:"group hover:shadow-[var(--shadow-3)] transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[color:var(--c-success)]/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(u,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-[color:var(--c-muted)]",children:"نرخ موفقیت"}),e.jsxs("p",{className:"text-3xl font-bold text-[color:var(--c-success)] tabular-nums",children:[s.successRate.toFixed(1),"%"]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-[color:var(--c-success)]",children:[e.jsx(D,{className:"w-3 h-3"}),e.jsx("span",{children:"عالی"})]})]}),e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-[color:var(--c-success)] to-[color:var(--c-success)]/60 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(D,{className:"w-7 h-7 text-white","aria-hidden":"true"})})]})})]}),e.jsxs(h,{variant:"elevated",className:"group hover:shadow-[var(--shadow-3)] transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[color:var(--c-error)]/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(u,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-[color:var(--c-muted)]",children:"نرخ خطا"}),e.jsxs("p",{className:"text-3xl font-bold text-[color:var(--c-error)] tabular-nums",children:[s.errorRate.toFixed(1),"%"]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-[color:var(--c-muted)]",children:[e.jsx(I,{className:"w-3 h-3"}),e.jsx("span",{children:"زیر نظر"})]})]}),e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-[color:var(--c-error)] to-[color:var(--c-error)]/60 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(I,{className:"w-7 h-7 text-white","aria-hidden":"true"})})]})})]})]}),e.jsxs("div",{className:"relative grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(h,{variant:"elevated",className:"group hover:shadow-[var(--shadow-3)] transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[color:var(--c-primary)]/5 to-transparent"}),e.jsx(y,{className:"pb-4 relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-[color:var(--c-primary)]/10 flex items-center justify-center",children:e.jsx(E,{className:"w-5 h-5 text-[color:var(--c-primary)]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-[color:var(--c-text)]",children:"درخواست‌ها در طول زمان"}),e.jsx("p",{className:"text-sm text-[color:var(--c-muted)] mt-0.5",children:"24 ساعت گذشته"})]})]})}),e.jsx(u,{className:"pt-0 relative",children:e.jsx(re,{data:s.requestsOverTime,height:200})})]}),e.jsxs(h,{variant:"elevated",className:"group hover:shadow-[var(--shadow-3)] transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-transparent"}),e.jsx(y,{className:"pb-4 relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center",children:e.jsx(T,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-[color:var(--c-text)]",children:"توزیع زمان پاسخ"}),e.jsx("p",{className:"text-sm text-[color:var(--c-muted)] mt-0.5",children:"بازه‌های زمانی"})]})]})}),e.jsxs(u,{className:"pt-0 relative",children:[e.jsx(le,{data:s.responseTimeDistribution.map((a,g)=>({timestamp:g,count:a.count})),height:200}),e.jsx("div",{className:"flex items-center justify-between mt-4 text-xs text-[color:var(--c-muted)] gap-2",children:s.responseTimeDistribution.map(a=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium mb-1",children:a.range}),e.jsx("div",{className:"text-[color:var(--c-text)] font-semibold tabular-nums",children:a.count})]},a.range))})]})]})]}),e.jsxs(h,{variant:"elevated",className:"relative hover:shadow-[var(--shadow-3)] transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[color:var(--c-primary)]/5 to-transparent"}),e.jsx(y,{className:"pb-4 relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-[color:var(--c-primary)]/10 flex items-center justify-center",children:e.jsx(C,{className:"w-5 h-5 text-[color:var(--c-primary)]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-[color:var(--c-text)]",children:"فعالیت‌های اخیر"}),e.jsx("p",{className:"text-sm text-[color:var(--c-muted)] mt-0.5",children:"آخرین درخواست‌ها"})]})]})}),e.jsx(u,{className:"pt-0 relative",children:e.jsx("div",{className:"overflow-x-auto -mx-6 rounded-xl",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"border-y border-[color:var(--c-border)]/50 bg-[color:var(--c-border)]/20",children:e.jsxs("tr",{className:"text-[color:var(--c-muted)]",children:[e.jsx("th",{className:"text-start py-3.5 px-6 font-semibold",children:"زمان"}),e.jsx("th",{className:"text-start py-3.5 px-6 font-semibold",children:"متد"}),e.jsx("th",{className:"text-start py-3.5 px-6 font-semibold",children:"مسیر"}),e.jsx("th",{className:"text-start py-3.5 px-6 font-semibold",children:"وضعیت"}),e.jsx("th",{className:"text-start py-3.5 px-6 font-semibold",children:"مدت زمان"})]})}),e.jsx("tbody",{children:s.recentActivity.map(a=>e.jsxs("tr",{className:"border-b border-[color:var(--c-border)]/30 last:border-0 hover:bg-[color:var(--c-primary)]/5 transition-all duration-150",children:[e.jsx("td",{className:"py-4 px-6 text-[color:var(--c-text)] font-medium",children:v(a.timestamp)}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"inline-flex px-3 py-1.5 rounded-lg bg-gradient-to-r from-[color:var(--c-primary)]/10 to-[color:var(--c-primary)]/5 text-[color:var(--c-primary)] font-semibold text-xs shadow-sm",children:a.method})}),e.jsx("td",{className:"py-4 px-6 text-[color:var(--c-text)] font-mono text-xs",children:a.path}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-semibold shadow-sm ${a.status===200?"bg-gradient-to-r from-[color:var(--c-success)]/10 to-[color:var(--c-success)]/5 text-[color:var(--c-success)]":"bg-gradient-to-r from-[color:var(--c-error)]/10 to-[color:var(--c-error)]/5 text-[color:var(--c-error)]"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${a.status===200?"bg-[color:var(--c-success)] shadow-[0_0_8px_var(--c-success)]":"bg-[color:var(--c-error)] shadow-[0_0_8px_var(--c-error)]"}`,"aria-hidden":"true"}),a.status]})}),e.jsx("td",{className:"py-4 px-6 text-[color:var(--c-muted)] tabular-nums font-medium",children:c(a.duration)})]},a.id))})]})})})]})]})}function Se(){const[s,t]=n.useState(!1),o=[{id:"refresh",icon:"refresh",label:"به‌روزرسانی",onClick:async()=>{t(!0),await new Promise(i=>setTimeout(i,1e3)),t(!1)},disabled:s},{id:"history",icon:"activity",label:"تاریخچه تست‌ها",onClick:()=>console.log("History")},{id:"settings",icon:"settings",label:"تنظیمات",onClick:()=>console.log("Settings")}];return e.jsxs(ce.div,{...se,className:"container-padding",children:[e.jsxs("div",{className:"flex-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-h1 mb-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex-center",children:e.jsx(S.zap,{className:"w-6 h-6 text-primary"})}),"پلتفرم تست و آزمایش"]}),e.jsx("p",{className:"text-body text-muted-foreground",children:"آزمایش مدل‌ها و نظارت بر عملکرد سیستم"})]}),e.jsx(W,{actions:o})]}),e.jsxs(X,{defaultValue:"playground",children:[e.jsxs(ee,{className:"mb-6",children:[e.jsxs(U,{value:"playground",children:[e.jsx(S.play,{className:"w-4 h-4 mr-2"}),"پلی‌گراند TTS"]}),e.jsxs(U,{value:"monitoring",children:[e.jsx(S.activity,{className:"w-4 h-4 mr-2"}),"نظارت مدل"]})]}),e.jsx($,{value:"playground",children:e.jsx(ue,{})}),e.jsx($,{value:"monitoring",children:e.jsx(ve,{})})]})]})}export{Se as default};
